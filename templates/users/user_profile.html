{% extends "base.html" %}

{% block page_title %}
    Profilo di {{user_obj.first_name}} {{user_obj.last_name}}
{% endblock page_title %}

{% block content %}

<div id="profile_wrapper">
    <div id="profile_title">
        <div>
            <h1>&nbsp;Profilo&nbsp;&nbsp;&nbsp;</h1>
        </div>
        <p class="menu_description">Il profilo di {{user_obj.first_name}} {{user_obj.last_name}}</p>    
    </div>
    <div id="profile_container">
        <div class="profile_container_row">
            {% if user_obj.avatar %}
                <div class="profile_avatar" style="background-image:url({{user_obj.avatar.url}}); "></div>
            {% endif %}
             <div id="profile_info">
                <div id="profile_info_firstname">{{user_obj.first_name}}</div>
                <div id="profile_info_lastname">{{user_obj.last_name}}</div>
                <div id="profile_info_email">
                    {{user_obj.email}}
                    {% if user_obj.email_verified == False %}
                        <span><i class="fas fa-exclamation-circle"></i>E-mail non verificato</span>
                        {% if user_obj.email == request.user.email %}
                        <a href="{% url 'users:send_verify_email' user_obj.pk %}"><span id="email_verify_link"><i class="fas fa-sign-in-alt"></i> Verifica l'indirizzo di E-mail.</span></a>
                        {% endif %}
                    {% else %}
                        <span><i class="fas fa-check-circle"></i>E-mail verificato</span>
                {% endif %}
                </div>
                
                <div>{{user_obj.school}}</div>
                <div id="profile_works">
                    {% for work in user_obj.works.all %}
                        {% if work.name == "regia" %} <!-- {{work}}는 되는데 .name 해줘야하는 이유? -->
                            <i class="fas fa-bullhorn ico_direction"></i>
                        {% elif work.name == "sceneggiatura" %}
                            <i class="fas fa-pen-nib ico_screenplay"></i>
                        {% elif work.name == "recitazione" %}
                            <i class="far fa-smile-wink ico_acting"></i>  
                        {% elif work.name == "fotografia" %}
                            <i class="fas fa-video ico_photograph"></i>
                        {% elif work.name == "montaggio" %}
                            <i class="fas fa-cut ico_editing"></i>
                        {% elif work.name == "VFX" %}
                            <i class="fas fa-meteor ico_VFX"></i>
                        {% elif work.name == "audio" %}
                            <i class="fas fa-microphone-alt ico_audio"></i>
                        {% elif work.name == "scenografia" %}
                            <i class="fas fa-palette ico_art-direction"></i>
                        {% elif work.name == "costume" %}
                            <i class="fas fa-mask ico_costume"></i>
                        {% elif work.name == "truccatura" %}
                            <i class="fas fa-magic ico_makeup"></i>  
                        {% elif work.name == "musica" %}
                            <i class="fas fa-music ico_music"></i>
                        {% endif %}     
                    {% endfor %}
                </div>
             </div>
        </div> 
            <hr>
        <div class="profile_container_row">
            <div>{{user_obj.biography}}</div>
        </div>
            
     </div>

     <div id="profile_modify">
            <a href="{% url 'users:update_profile' %}"><div id="update-profile_btn">Aggiorna il Profilo</div></a>
            <a href="{% url 'users:change_password' %}"><div id="change-password_btn">Cambia il Password</div></a>
     </div>
    
</div>
{% endblock content %}
