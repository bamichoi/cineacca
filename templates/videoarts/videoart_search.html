{% extends "base.html" %}

{% block page_title %}
    Cerca con {{ keyword }}
{% endblock page_title %}

{% block content %}
<div id="movie-list_title">
    <h1>&nbsp;VIDEO ART&nbsp;&nbsp;&nbsp;</h1>
</div>

<p class="menu_description">Il risultato della ricerca con '{{keyword}}'</p>

<div class="search_bar">
    <form method="get" action="{% url 'videoarts:search' %}">
        <input {% if keyword %}value="{{keyword}}"{% endif %} required name="keyword" type="text" placeholder="Cerca dei film con il titolo o un/un' artista." />
        <button>Cerca!</button>
    </form>
</div>
<div id="movie_sort-by">
    <a href="?keyword={{ keyword }}&sort_by=rating"><span><i class="fas fa-star"></i> pi첫 valutati</span></a>
    <a href="?keyword={{ keyword }}&sort_by=date"><span><i class="fab fa-hotjar"></i> pi첫 recente</span></a>
    <a href="?keyword={{ keyword }}&sort_by=views"><span><i class="fas fa-eye"></i> pi첫 visti</span></a>
    <a href="?keyword={{ keyword }}&sort_by=love"><span><i class="fas fa-heart"></i> pi첫 preferiti</span></a>
</div>

<div id="movie-list_grid">
    {% for videoart in videoarts %}
        {% include "../mixins/movies/movie-card.html" with type="videoart" %}
    {% endfor %}
    </div>
    {% if sort %}
        <div class="paginator">
            <div>
                {% if start_index != 0 %}
                    <span><a href="?keyword={{ keword }}&sort_by ={{ sort }}&page={{start_index}}"><i class="fas fa-chevron-circle-left"></i></a></span>
                {% endif %}
            </div>
            <div>
                    {% for page in page_range %}
                        {% if current_page == page %}
                            <div class="current-page"><span>{{page}}</span></div>
                        {% else %}
                            <span><a href="?keyword={{ keyword }}&sort_by={{ sort }}&page={{page}}">{{page}}</a></span>
                        {% endif %}
                    {% endfor %}
            </div>
            <div>
                {% if next_index < max_index %}
                    <span><a href="?keyword={{ keyword }}&sort_by ={{ sort }}&page={{next_index}}"><i class="fas fa-chevron-circle-right"></i></a></span>
                {% endif %}
            </div>
        </div>

    {% else %}
        <div class="paginator">
            <div>
                {% if start_index != 0 %}
                    <span><a href="?keyword={{ keword }}&sort_by ={{ sort }}&page={{start_index}}"><i class="fas fa-chevron-circle-left"></i></a></span>
                {% endif %}
            </div>
            <div>
                    {% for page in page_range %}
                        {% if current_page == page %}
                            <div class="current-page"><span>{{page}}</span></div>
                        {% else %}
                            <span><a href="?keyword={{ keyword }}&page={{page}}">{{page}}</a></span>
                        {% endif %}
                    {% endfor %}
            </div>
            <div>
                {% if next_index < max_index %}
                    <span><a href="?keyword={{ keyword }}&page={{next_index}}"><i class="fas fa-chevron-circle-right"></i></a></span>
                {% endif %}
            </div>
        </div>
    {% endif %}
{% endblock content %}